= Conformance Schedule

== Overview

The following table shows the schedule according to which functional conformance claims can be made for a solution.

Each row corresponds to a system capability specified by one or more openEHR specifications and/or concrete published artefacts. Each of these capabilities is tested by one or more tests based on the artefacts, as described below.

=== ALTERNATIVE 1 - ROWS are conformance features

[cols="2,3,4,4,4", options="header"]
|===
|Feature +
 group          |Feature        |Defining specification(s)                         |Computable artefact(s)             |Test type

.4+|*Core +
 Semantics*     |RM Core        |{openehr_rm_data_types}[Data Types IM] +
                                 {openehr_rm_data_types}[Data Structures IM] +
                                 {openehr_rm_common}[Common IM] +
                                 {openehr_rm_ehr}[EHR IM]                           |{openehr_its_rm_xsds}[RM XSDs]     |Commit/Retrieve +
                                                                                                                         data regression
                |Versioning     |{openehr_rm_common}#_change_control_package[Common IM Change - Control Package] +          
                                 {openehr_overview}#_versioning_2[openEHR Architecture Overview] 
                                                                                    |{openehr_its_rm_xsds}[RM XSDs - VERSIONED_OBJECT] 
                                                                                                                        |Commit/Retrieve +
                                                                                                                         data regression
                |Instruction +
                 State Machine  |{openehr_rm_ehr}#_the_standard_instruction_state_machine_ism[EHR IM - ISM]|n/a          |??
                |OPT 1.4        |???                                                |{openehr_oet_parser}/src/main/xsd[OET XSDs] 
                                                                                                                        |Import; +
                                                                                                                          execute content +
                                                                                                                          test

.3+|*Advanced +
 Semantics*     |RM Folders     |{openehr_rm_common}#_directory_package[Common IM - Directory Package] 
                                                                                    |{openehr_its_rm_xsds}[RM XSDs - FOLDER] 
                                                                                                                        |Commit/Retrieve +
                                                                                                                         data regression
                |RM advanced DTs|{openehr_rm_data_types}[Data Types IM - various]   |{openehr_its_rm_xsds}[RM XSDs - DV_INTERVAL<>]
                                                                                                                        |Commit/Retrieve +
                                                                                                                         data regression
                |RM Demographics|{openehr_rm_demographic}[Demographic IM]           |{openehr_its_rm_xsds}[RM XSDs]     |Commit/Retrieve +
                                                                                                                          data regression

.2+|*APIs*      |EHR REST API   |{openehr_ehr_rest_api}[EHR REST API]               |???                                 |Exercise functions +
                                                                                                                          & arguments
                |TDD API        |???                                                |???                                 |Exercise functions +
                                                                                                                          & arguments

|*Querying*     |AQL            |{openehr_query_aql}[AQL specification]             |n/a                                  |Commit content; +
                                                                                                                           execute queries +
                                                                                                                           regression.

.2+|*Security & +
 Privacy*       |Signing        |{openehr_rm_common}#_digital_signature[Common IM - Digital Signature]|n/a                |Commit/Retrieve +
                                                                                                                           data regression
                |Anonymous EHRs |{openehr_overview}#_overview_4[EHR/Demographic separation]|n/a                           |Commit/query
                
.3+|*Options*   |EHR Extract    |{openehr_rm_ehr_extract}[EHR Extract IM]           |{openehr_its_rm_xsds}[RM XSDs - EHR_EXTRACT]
                                                                                                                        |Commit/Retrieve +
                                                                                                                         data regression
                |GDL            |{openehr_cds_gdl}[GDL Specification]               |n/a                                 |???
                |Task Planning  |{openehr_task_planning}[Task Planning]             |(in development)                    |various
|===

=== ALTERNATIVE 2 - grid approach - cells are conformance points

[cols="3h,2,2,2,2,2,2", options="header"]
|===
|Feature                     6+^|Access Method
h|                          2+^h|[EHR REST API]    h|TDD API        h|Other        h|[EHR Extract]     h|[AQL]
h|                             h|Commit/ +
                                 Create            h|Retrieve      h|Commit/ +
                                                                     Create        h|Retrieve          h|Export         h|Retrieve

|                            6+^|*Core Semantics*     
|*RM Core*                      |Canonical XML      |JSON           |TDS XSD        |Canonical XML      |Canonical XML   |AQL ResulSet
|*Versioning*                   |Canonical XML      |JSON           |TDS XSD        |Canonical XML      |Canonical XML   |AQL ResultSet                             
|*Instruction State Machine*    |Canonical XML      |JSON           |??             |Canonical XML      |Canonical XML   |AQL ResultSet
 
|*OPT 1.4*                      |n/a                |n/a            |n/a            |n/a                |n/a             |AQL query +
                                                                                                                          validity
|*Archetype validation*         |Success/fail       |n/a            |Success/fail   |n/a                |n/a             |n/a


|                            6+^|*Additional Semantics*     
|*RM Folders*                   |Canonical XML      |JSON           |n/a            |Canonical XML      |Canonical XML   |AQL ResultSet
|*RM advanced DTs*              |Canonical XML      |JSON           |TDS XSD        |Canonical XML      |Canonical XML   |AQL ResultSet
|*RM Demographics*              |Canonical XML      |JSON           |TDS XSD        |Canonical XML      |Canonical XML   |AQL ResultSet


|                            6+^|*Security & Privacy*       
|*Signing*                      |Canonical XML      |JSON           |??             |Canonical XML      |Canonical XML   |???
|*Anonymous EHRs*               |Canonical XML      |JSON           |n/a            |Canonical XML      |Canonical XML   |AQL presence +
                                                                                                                                  absence
                
|                            6+^|*Options*   
|*GDL*                          |n/a                |???            |???            |???                |???             |???
|*Task Planning*                |Canonical XML      |JSON           |n/a            |Canonical XML      |Canonical XML   |AQL ResultSet

|===



== Profiles (KEEP?)

The following table shows how the guideline conformance profiles may be defined with respect to the conformance criteria. These

[cols="1,1,^1,^1,^1", options="header"]
|===
|Feature +
 group          |Feature            |BASIC      |BASIC+         |EXTRA

.4+|*Core +
 Semantics*     |RM Basic           |&#10004;   |&#10004;       |          
                |Versioning        ^|&#10004;   |&#10004;       |          
                |Instruction +
                 State Machine     ^|&#10004;   |&#10004;       |          
                |OPT 1.4           ^|&#10004;   |&#10004;       |

.3+|*Advanced +
 Semantics*     |RM Folders         |           |               |+
                |RM advanced DTs   ^|           |&#10004;       |
                |RM Demographics   ^|           |               |+

.2+|*APIs*      |EHR REST API       |&#10004;   |&#10004;       |
                |TDD API           ^|           |               |+

|*Querying*     |AQL                |           |&#10004;       |

.2+|*Security & +
 Privacy*       |Signing            |           |               |+
                |Anonymous EHRs    ^|           |               |+
                
.3+|*Options*   |EHR Extract        |           |               |+
                |GDL               ^|           |               |+
                |Task Planning     ^|           |               |+
|===

== SECTIONS BELOW TO BE REWRITTEN

== Core Semantics

RM Core consists of most of the RM, apart from the elements documented below under 'RM additional'.

[cols="1,3,3", options="header"]
|===
|Feature            |Specification                                                              |Tested by

|RM Core            |{openehr_rm_data_types}[Data Types IM] +
                     {openehr_rm_data_types}[Data Structures IM] +
                     {openehr_rm_common}[Common IM] +
                     {openehr_rm_ehr}[EHR IM]                                                   |
|OPT loading        |{openehr_oet_parser}/src/main/xsd[OET XSDs]                                |
|Versioning         |{openehr_rm_common}#_change_control_package[Common IM - +
                     Change Control Package] +
                     {openehr_overview}#_versioning_2[Architecture Overview]                    |
|Instruction State +
 Machine            |{openehr_rm_ehr}#_the_standard_instruction_state_machine_ism[EHR IM - ISM] |
|===

== Additional Semantics

[cols="1,3,3", options="header"]
|===
|Feature            |Specification                                                              |Tested by

|Folders            |{openehr_rm_common}#_directory_package[Common IM - Directory Package]      |
|RM Advanced DTs    |{openehr_rm_data_types}[Data Types IM - various]                           |
|RM Demograpics     |{openehr_rm_demographic}[Demographic IM]                                   |
                                        
|===

== EHR Service

EHR Service API features:

[cols="1,3,3", options="header"]
|===
|Feature                    |Specification                                                              |Tested by

|Create EHR                 |{openehr_ehr_api}[EHR Service API]                                         |
|Find EHR                   |                                                                           |
|Get EHR Status             |                                                                           |
|Commit Contribution        |                                                                           |
|Find Compositions          |                                                                           |
|Get Composition by id      |                                                                           |
|Get Composition by time    |                                                                           |
|Get Composition by version |                                                                           |
|===

== TDD API

TDD API features:

[cols="1,3,3", options="header"]
|===
|Feature                    |Specification                                                              |Tested by

|Commit TDD                 |                                                                           |
|===

== AQL Support

AQL features:

[cols="1,3,3", options="header"]
|===
|Feature                    |Specification                                                              |Tested by

|AQL                        |{openehr_query_aql}[AQL]                                                   |
|===

== Security and Privacy

Security and Privacy features:

[cols="1,3,3", options="header"]
|===
|Feature                    |Specification                                                              |Tested by

|Non-identified EHRs        |{openehr_overview}#_overview_4[EHR/Demographic separation]                 |
|Signing                    |{openehr_rm_common}#_digital_signature[Common IM - Digital Signature]      |
|===

== REST APIs

EHR REST API features:

[cols="1,3,3", options="header"]
|===
|Feature                    |Specification                                                              |Tested by

|xxx                        |{openehr_ehr_rest_api}[EHR REST API]                                       |
|===


== Integrated Terminology Service

Integrated Terminology features:

[cols="1,3,3", options="header"]
|===
|Feature                    |Specification                                                              |Tested by

|AQL query with terminology |                                                                           |
|===

== EHR Dump/Load

EHR Dump/Load features:

[cols="1,3,3", options="header"]
|===
|Feature                    |Specification                                                              |Tested by

|xxx                        |                                                                           |
|===

== EHR Synchronisation

EHR Synchronisation features:

[cols="1,3,3", options="header"]
|===
|Feature                    |Specification                                                              |Tested by

|EHR Extract                |{openehr_rm_ehr_extract}[EHR Extract]                                      |
|===


